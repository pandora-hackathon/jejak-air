<nav class="bg-gradient-to-r from-blue-50 to-white text-gray-800 px-8 py-4 shadow-xl border-b border-blue-200 sticky top-0 z-50">
    <div class="container mx-auto flex justify-between items-center">
        <a href="{% url 'main:home' %}" class="font-bold text-2xl tracking-tight text-blue-600 hover:text-blue-800 transition duration-150">
            <span class="mr-1 text-3xl">ðŸ’§</span> Jejak Air
        </a>
        
        <ul class="flex space-x-6 items-center font-semibold">
            {% if user.is_authenticated %}
                <li>
                    <a href="{% url 'main:home' %}" class="text-gray-600 hover:text-blue-500 py-1 transition duration-150 border-b-2 border-transparent hover:border-blue-500">
                        Dashboard
                    </a>
                </li>
                <li>
                    <button id="logoutBtn" class="bg-blue-500 text-white px-5 py-2 rounded-full shadow-lg hover:bg-blue-600 transition duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300">
                        Logout
                    </button>
                </li>
            {% else %}
                <li>
                    <a href="{% url 'authentication:login' %}" class="text-gray-600 hover:text-blue-500 py-1 transition duration-150 border-b-2 border-transparent hover:border-blue-500">
                        Login
                    </a>
                </li>
                <li>
                    <a href="{% url 'authentication:register' %}" class="bg-blue-500 text-white px-5 py-2 rounded-full font-bold shadow-lg hover:bg-blue-600 transition duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300">
                        Register
                    </a>
                </li>
            {% endif %}
        </ul>
    </div>
</nav>

<script>
    const logoutBtn = document.getElementById('logoutBtn');
    if (logoutBtn) {
        logoutBtn.addEventListener('click', async function(e) {
            e.preventDefault();
            try {
                const response = await fetch("{% url 'authentication:logout' %}");
                const data = await response.json();
                if (data.status === "success") {
                    window.location.href = data.redirect_url;
                }
            } catch (err) {
                alert("Gagal logout, coba lagi nanti.");
            }
        });
    }
</script>